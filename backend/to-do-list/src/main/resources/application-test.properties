# --- H2 In-Memory Database Configuration (for Tests) ---
# Use the H2 in-memory database for tests to ensure they are self-contained and fast.
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# Instructs Hibernate to create the database schema from scratch for each test run.
spring.jpa.hibernate.ddl-auto=create-drop

# Specify the H2 dialect for Hibernate.
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Ensures that Hibernate quotes all database identifiers.
spring.jpa.properties.hibernate.globally_quoted_identifiers=true

# Disable Springfox (Swagger) during tests to prevent context loading issues and speed up test execution.
springfox.documentation.enabled=false

# Allow test beans (like the one in TestWebConfig) to override production beans.
# This is necessary because both WebConfig and TestWebConfig define a bean named 'corsConfigurationSource'.
spring.main.allow-bean-definition-overriding=true
